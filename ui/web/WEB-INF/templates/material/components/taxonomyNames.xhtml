<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~     Leibniz Bioactives Cloud
  ~     Copyright 2017 Leibniz-Institut f. Pflanzenbiochemie
  ~
  ~     Licensed under the Apache License, Version 2.0 (the "License");
  ~     you may not use this file except in compliance with the License.
  ~     You may obtain a copy of the License at
  ~
  ~         http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~     Unless required by applicable law or agreed to in writing, software
  ~     distributed under the License is distributed on an "AS IS" BASIS,
  ~     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~     See the License for the specific language governing permissions and
  ~     limitations under the License.
  ~
  ~
  ~
-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:body>
    <ui:composition>
        <p:panel
                collapsible="false"
                rendered="#{taxonomyBean.renderController.isNamesVisible()}"
                style="width:50%;"
                title="#{msgs.taxonomy_label_names}">
            <p:dataTable
                    id="materialNameTable"
                    styleClass="materialNameTableClass"
                    paginated="false"
                    value="#{taxonomyBean.nameController.names}"
                    searching="false"
                    var="mName"
                    saveState="false">
                <p:column
                        orderable="false"
                        headerText="#{msgs.taxonomy_names_panel_title}">
                    <p:inputText
                            value="#{mName.value}"
                            disabled="#{!taxonomyBean.renderController.isNameEditable()}"
                            placeholder="#{msgs.materialCreation_panelNames_placeHolder}"
                            onkeypress="if (event.keyCode === 13) {
                                        return false;
                                    }">
                        <f:converter converterId="InputConverter"/>
                    </p:inputText>
                </p:column>
                <p:column
                        orderable="false"
                        headerText="#{msgs.materialCreation_panelNames_tableHeader_language}">
                    <p:selectOneMenu
                            value="#{mName.language}"
                            disabled="#{!taxonomyBean.renderController.isNameEditable()}">
                        <f:selectItems
                                value="#{taxonomyBean.nameController.getPossibleLanguages()}"/>
                    </p:selectOneMenu>
                </p:column>
                <p:column
                        orderable="false"
                        headerText="#{msgs.materialCreation_panelNames_tableHeader_action}">
                    <p:commandButton style="padding: 0 4px;margin:0.5rem 0;"
                                     icon="pi pi-angle-double-up "
                                     look="link"
                                     ajax="true"
                                     disabled="#{!taxonomyBean.renderController.isMaterialNameOperationEnabled(mName,'HIGHEST')}"
                                     process="@(.taxonomyInfos)"
                                     update="@(.taxonomyInfos)"
                                     action="#{taxonomyBean.nameController.swapPosition(mName, 'HIGHEST')}"
                                     type="submit"/>
                    <!--onclick="ajax:taxonomyBean.nameController.swapPosition(mName, 'HIGHEST')"-->

                    <p:commandButton style="padding: 0 4px;margin:0.5rem;"
                                     icon="pi pi-angle-up"
                                     look="link"
                                     ajax="true"
                                     disabled="#{!taxonomyBean.renderController.isMaterialNameOperationEnabled(mName,'HIGHER')}"
                                     process="@(.taxonomyInfos)"
                                     update="@(.taxonomyInfos)"
                                     tooltip="#{msgs.materialCreation_panelNames_tooltip_higher}"
                                     type="submit"
                                     action="#{taxonomyBean.nameController.swapPosition(mName, 'HIGHER')}"/>
                    <!--onclick="ajax:taxonomyBean.nameController.swapPosition(mName, 'HIGHER')"-->

                    <p:commandButton style="padding: 0 4px;margin:0.5rem 0;"
                                     icon="pi pi-angle-down "
                                     look="link"
                                     ajax="true"
                                     disabled="#{!taxonomyBean.renderController.isMaterialNameOperationEnabled(mName,'LOWER')}"
                                     process="@(.taxonomyInfos)"
                                     update="@(.taxonomyInfos)"
                                     tooltip="#{msgs.materialCreation_panelNames_tooltip_lower}"
                                     type="submit"
                                     action="#{taxonomyBean.nameController.swapPosition(mName, 'LOWER')}"/>
                    <!--onclick="ajax:taxonomyBean.nameController.swapPosition(mName, 'LOWER')"-->
                    <p:commandButton style="padding: 0 4px;margin:0.5rem;"
                                     disabled="#{!taxonomyBean.renderController.isMaterialNameOperationEnabled(mName,'LOWEST')}"
                                     icon="pi pi-angle-double-down"
                                     look="link"
                                     ajax="true"
                                     update="@(.taxonomyInfos)"
                                     process="@(.taxonomyInfos)"
                                     tooltip="#{msgs.materialCreation_panelNames_tooltip_lowestRank}"
                                     type="submit"
                                     action="#{taxonomyBean.nameController.swapPosition(mName, 'LOWEST')}"/>
                    <!--onclick="ajax:taxonomyBean.nameController.swapPosition(mName, 'LOWEST')"-->
                    <p:commandButton style="padding: 0 4px;margin:0.5rem 0;"
                                     disabled="#{!taxonomyBean.renderController.isNameEditable()}"
                                     icon="pi pi-trash"
                                     look="link"
                                     ajax="true"
                                     process="@(.taxonomyInfos)"
                                     update="@(.taxonomyInfos)"
                                     tooltip="#{msgs.materialCreation_panelNames_tooltip_delete}"
                                     type="submit"
                                     action="#{taxonomyBean.nameController.removeName(mName)}"/>
                    <!--onclick="ajax:taxonomyBean.nameController.removeName(mName)"-->
                    <p:commandButton style="padding: 0 4px;margin:0.5rem;"
                                     icon="pi pi-plus "
                                     look="link"
                                     disabled="#{!taxonomyBean.renderController.isNameEditable()}"
                                     ajax="true"
                                     process="@form"
                                     update="@(.taxonomyInfos)"
                                     tooltip="#{msgs.materialCreation_panelNames_tooltip_add}"
                                     action="#{taxonomyBean.nameController.addNewName()}"
                                     type="submit"/>
                    <!--onclick="ajax:taxonomyBean.nameController.addNewName();"-->
                </p:column>
            </p:dataTable>
        </p:panel>
    </ui:composition>
</h:body>
</html>
