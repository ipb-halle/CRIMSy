<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~     Leibniz Bioactives Cloud
  ~     Copyright 2017 Leibniz-Institut f. Pflanzenbiochemie
  ~
  ~     Licensed under the Apache License, Version 2.0 (the "License");
  ~     you may not use this file except in compliance with the License.
  ~     You may obtain a copy of the License at
  ~
  ~         http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~     Unless required by applicable law or agreed to in writing, software
  ~     distributed under the License is distributed on an "AS IS" BASIS,
  ~     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~     See the License for the specific language governing permissions and
  ~     limitations under the License.
  ~
  ~
  ~
-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:body>
        <b:form 
            id="materialForm">
            <b:container>
                <b:row>
                    <b:column span="1">
                        <b:commandButton
                            action="#{materialOverviewBean.actionCreateNewMaterial()}"
                            value="#{msgs.materials_createNew}"
                            />
                    </b:column>
                </b:row>
            </b:container>
            <b:dataTable
                paginated="false"
                value="#{materialOverviewBean.readableMaterials}"
                searching="false"
                var="material">
                <b:dataTableColumn
                    value="#{material.id}">
                </b:dataTableColumn>
                <b:dataTableColumn
                    label="#{msgs.materialOverview_tableheader_name}">
                    <h:outputText
                        escape="false"
                        value="#{material.getPrintableNames()}"/>
                </b:dataTableColumn>
                <b:dataTableColumn
                    label="#{msgs.materialOverview_tableheader_type}"
                    value="#{material.type}">
                </b:dataTableColumn>
                <b:dataTableColumn
                    styleClass="div-container-hazard"
                    label="#{msgs.materialOverview_tableheader_hazards}">
                    <b:container
                        styleClass="div-container-hazard">
                        <b:row>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isExplosive()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS01.png"
                                         tooltip="#{msgs.materialOverview_tooltip_explosive}"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isHighlyFlammable()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS02.png"
                                         tooltip="#{msgs.materialOverview_tooltip_flammable}"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isOxidizing()}"
                                      tooltip="#{msgs.materialOverview_tooltip_oxidating}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS03.png"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards(). isCompressedGas()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS04.png"
                                         tooltip="#{msgs.materialOverview_tooltip_compressedGas}"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isCorrosive()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS05.png"
                                         tooltip="#{msgs.materialOverview_tooltip_corrosive}"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isPoisonous()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS06.png"
                                         tooltip="#{msgs.materialOverview_tooltip_poisonous}"
                                         styleClass="img-hazard"/>
                            </b:column>

                            <b:column span="1"
                                      rendered="#{material.getHazards().isIrritant()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS07.png"
                                         tooltip="#{msgs.materialOverview_tooltip_irritant}"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isUnhealthy()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS08.png"
                                         tooltip="#{msgs.materialOverview_tooltip_unhealthy}"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isEnvironmentallyHazardous()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS09.png"
                                         tooltip="#{msgs.materialOverview_tooltip_environmentHazard}"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isDanger()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS07.png"
                                         tooltip="#{msgs.materialOverview_tooltip_danger}"
                                         styleClass="img-hazard"/>
                            </b:column>
                            <b:column span="1"
                                      rendered="#{material.getHazards().isAttention()}"
                                      styleClass="div-col-hazard">
                                <b:image value="/resources/img/hazards/GHS07.png"
                                         tooltip="#{msgs.materialOverview_tooltip_attention}"
                                         styleClass="img-hazard"/>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="2">
                                <h:outputText
                                    value="#{msgs.materialOverview_tableheader_hStatements}">
                                </h:outputText>
                            </b:column>
                            <b:column span="10">
                                <h:outputText
                                    value="#{material.getHazards().hazardStatements}">
                                </h:outputText>
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="2">
                                <h:outputText
                                    value="#{msgs.materialOverview_tableheader_pStatements}">
                                </h:outputText>
                            </b:column>
                            <b:column span="10">
                                <h:outputText
                                    value="#{material.getHazards().precautionaryStatements}">
                                </h:outputText>
                            </b:column>
                        </b:row>

                    </b:container>
                </b:dataTableColumn>
                <b:dataTableColumn
                    label="#{msgs.materialOverview_tableheader_actions}">
                    <b:commandButton style="padding: 0 4px;"
                                     icon="pencil"
                                     look="link"
                                     type="submit"
                                     ajax="false"
                                     action="#{materialOverviewBean.actionEditMaterial(material)}"
                                     oncomplete="addStateSaveBehavior()"
                                     tooltip="#{msgs.materialOverview_actions_edit}"
                                     />
                    <b:commandButton style="padding: 0 4px;"
                                     icon-awesome="fa-eyedropper"
                                     look="link"
                                     type="submit"
                                     ajax="false"
                                     action="#{materialOverviewBean.actionCreateNewItem(material)}"
                                     tooltip="#{msgs.materialOverview_actions_createItem}"
                                     />
                    <b:commandButton style="padding: 0 4px;"
                                     icon="glyphicon glyphicon-user"
                                     look="link"
                                     ajax="true"
                                     process="@this"
                                     type="button"
                                     tooltip="#{msgs.materialOverview_actions_changeRights}"
                                     />
                    <b:commandButton style="padding: 0 4px;"
                                     icon="trash"
                                     look="link"
                                     type="button"
                                     ajax="true"
                                     update="@form"
                                     onclick="ajax:materialOverviewBean.actionDeactivateMaterial(material);"
                                     tooltip="#{msgs.materialOverview_actions_deactivate}"
                                     />
                </b:dataTableColumn>
            </b:dataTable>

        </b:form>
    </h:body>

</html>
